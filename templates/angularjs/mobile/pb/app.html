<script type="text/javascript">

  var moduloIntMarkInst = moduloIntMark({
    'masterLoged': true,
    'masterIdUsr': true,
    'slaveLoged': true,
    'slaveIdUsr': true,
  });

  var app = angular.module('myApp', [
    'ngRoute',
    'mobile-angular-ui',
    'mobile-angular-ui.gestures',
  ]).config(function($routeProvider) {
      $routeProvider.when('/', {templateUrl: "/angularjs/mobile/signIn.html"});
      $routeProvider.when('/tabs', {templateUrl: '/angularjs/mobile/tabs.html', reloadOnSearch: false});
      $routeProvider.when('/acordion', {templateUrl: '/assets/angularjs/mobile/acordion.html', reloadOnSearch: false});
      $routeProvider.when('/overlay', {templateUrl: '/assets/angularjs/mobile/overlay.html', reloadOnSearch: false});
    });

  app.run(function($transform) {
    window.$transform = $transform;
  });

app.controller('MainController', function($rootScope, $scope) {

  $scope.metadata = {};
  moduloIntMarkInst.afterAny().then(function(datos) {
    $.extend(true, $scope.metadata, datos);
    $scope.$digest();
  });

  var diferidoCargue = null;
  // Needed for the loading screen
  $rootScope.$on('$routeChangeStart', function() {
    $rootScope.loading = true;
    diferidoCargue = moduloActividad.on();
  });

  $rootScope.$on('$routeChangeSuccess', function() {
    $rootScope.loading = false;
    diferidoCargue.resolve();
  });

  $scope.esIgual = function(myAccordion, i) {
    console.log('esIgual', myAccordion, i);
    return myAccordion == i;
  }
});
</script>